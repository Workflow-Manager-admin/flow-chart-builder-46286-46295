{"is_source_file": true, "format": "JavaScript", "description": "React component 'Canvas' that serves as the main interactive area for a flow chart builder. Handles rendering of nodes and edges, user interactions such as drag-and-drop, panning, zooming, and establishing connections between nodes.", "external_files": ["./Node", "./Edge"], "external_methods": ["React", "useRef", "useState", "useEffect"], "published": ["Canvas"], "classes": [], "methods": [{"name": "handleDragOver", "description": "Handles the drag over event to allow dropping nodes onto the canvas."}, {"name": "handleDrop", "description": "Handles dropping a node onto the canvas, adding it based on the drop data and pointer location."}, {"name": "handleMouseDown", "description": "Initiates panning or interactions when mouse is pressed down on the canvas."}, {"name": "handleMouseMove", "description": "Handles panning of the canvas and updates the temporary connection line when connecting nodes."}, {"name": "handleMouseUp", "description": "Ends dragging or connecting states on mouse release."}, {"name": "handleWheel", "description": "Implements zooming in and out of the canvas centered on the mouse cursor."}, {"name": "getConnectionStartPos", "description": "Calculates the starting position for a connection line from a node."}], "calls": ["onNodeAdd", "onNodeSelect", "onEdgeSelect", "onNodeMove", "onNodeAdd", "onEdgeAdd", "onTransformChange", "onDragEnd", "onConnectionStart", "onConnectionEnd"], "search-terms": ["React Canvas", "flow chart interaction", "node drag-and-drop", "panning zooming", "connection drawing", "Flow Chart Builder"], "state": 2, "file_id": 17, "knowledge_revision": 36, "git_revision": "", "ctags": [{"_type": "tag", "name": "Canvas", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^const Canvas = ({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "canvas ${isDragging ? 'dragging' : ''} ${isConnecting ? 'connecting' : ''}", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^        className={`canvas ${isDragging ? 'dragging' : ''} ${isConnecting ? 'connecting' : ''}`}$/", "language": "JavaScript", "kind": "field", "scope": "className", "scopeKind": "class"}, {"_type": "tag", "name": "canvas-container ${draggedNodeType ? 'drag-over' : ''}", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^      className={`canvas-container ${draggedNodeType ? 'drag-over' : ''}`}$/", "language": "JavaScript", "kind": "field", "scope": "className", "scopeKind": "class"}, {"_type": "tag", "name": "canvasRef", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^        ref={canvasRef}$/", "language": "JavaScript", "kind": "field", "scope": "ref", "scopeKind": "class"}, {"_type": "tag", "name": "canvasRef", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^  const canvasRef = useRef(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "connectionStartPos", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^  const connectionStartPos = getConnectionStartPos();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "data", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^      const data = JSON.parse(e.dataTransfer.getData('application\\/json'));$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "delta", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^    const delta = e.deltaY > 0 ? 0.9 : 1.1;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getConnectionStartPos", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^  const getConnectionStartPos = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleDragOver", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^      onDragOver={handleDragOver}$/", "language": "JavaScript", "kind": "field", "scope": "onDragOver", "scopeKind": "class"}, {"_type": "tag", "name": "handleDragOver", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^  const handleDragOver = (e) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleDrop", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^      onDrop={handleDrop}$/", "language": "JavaScript", "kind": "field", "scope": "onDrop", "scopeKind": "class"}, {"_type": "tag", "name": "handleDrop", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^  const handleDrop = (e) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleMouseDown", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^        onMouseDown={handleMouseDown}$/", "language": "JavaScript", "kind": "field", "scope": "onMouseDown", "scopeKind": "class"}, {"_type": "tag", "name": "handleMouseDown", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^  const handleMouseDown = (e) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleMouseMove", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^        onMouseMove={handleMouseMove}$/", "language": "JavaScript", "kind": "field", "scope": "onMouseMove", "scopeKind": "class"}, {"_type": "tag", "name": "handleMouseMove", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^  const handleMouseMove = (e) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleMouseUp", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^        onMouseLeave={handleMouseUp}$/", "language": "JavaScript", "kind": "field", "scope": "onMouseLeave", "scopeKind": "class"}, {"_type": "tag", "name": "handleMouseUp", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^        onMouseUp={handleMouseUp}$/", "language": "JavaScript", "kind": "field", "scope": "onMouseUp", "scopeKind": "class"}, {"_type": "tag", "name": "handleMouseUp", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^  const handleMouseUp = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleWheel", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^  const handleWheel = (e) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "mouseX", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^    const mouseX = e.clientX - rect.left;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "mouseY", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^    const mouseY = e.clientY - rect.top;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "newScale", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^    const newScale = Math.max(0.1, Math.min(3, canvasTransform.scale * delta));$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "newX", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^    const newX = mouseX - (mouseX - canvasTransform.x) * scaleChange;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "newY", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^    const newY = mouseY - (mouseY - canvasTransform.y) * scaleChange;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "node", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^    const node = nodes.find(n => n.id === connectionStart);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "nodes", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^  nodes,$/", "language": "JavaScript", "kind": "field", "scope": "Canvas", "scopeKind": "class"}, {"_type": "tag", "name": "rect", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^        const rect = canvasRef.current.getBoundingClientRect();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "rect", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^      const rect = canvasRef.current.getBoundingClientRect();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "rect", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^    const rect = canvasRef.current.getBoundingClientRect();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "scaleChange", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^    const scaleChange = newScale \\/ canvasTransform.scale;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setDragStart", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^  const [dragStart, setDragStart] = useState({ x: 0, y: 0 });$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setIsDragging", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^  const [isDragging, setIsDragging] = useState(false);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setTempConnection", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^  const [tempConnection, setTempConnection] = useState(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "x", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^        const x = (e.clientX - rect.left - canvasTransform.x) \\/ canvasTransform.scale;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "x", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^      const x = (e.clientX - rect.left - canvasTransform.x) \\/ canvasTransform.scale;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "y", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^        const y = (e.clientY - rect.top - canvasTransform.y) \\/ canvasTransform.scale;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "y", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Canvas.js", "pattern": "/^      const y = (e.clientY - rect.top - canvasTransform.y) \\/ canvasTransform.scale;$/", "language": "JavaScript", "kind": "constant"}], "hash": "aa3caa0913f943939e31735150cd5fd4", "format-version": 4, "code-base-name": "frontend_react_js", "filename": "frontend_react_js/src/components/Canvas.js", "fields": [{"name": "className={`canvas ${isDragging ? 'dragging' : ''} ${isConnecting ? 'connecting' : ''}`}", "scope": "className", "scopeKind": "class", "description": "unavailable"}, {"name": "className={`canvas-container ${draggedNodeType ? 'drag-over' : ''}`}", "scope": "className", "scopeKind": "class", "description": "unavailable"}, {"name": "ref={canvasRef}", "scope": "ref", "scopeKind": "class", "description": "unavailable"}, {"name": "onDragOver={handleDragOver}", "scope": "onDragOver", "scopeKind": "class", "description": "unavailable"}, {"name": "onDrop={handleDrop}", "scope": "onDrop", "scopeKind": "class", "description": "unavailable"}, {"name": "onMouseDown={handleMouseDown}", "scope": "onMouseDown", "scopeKind": "class", "description": "unavailable"}, {"name": "onMouseMove={handleMouseMove}", "scope": "onMouseMove", "scopeKind": "class", "description": "unavailable"}, {"name": "onMouseLeave={handleMouseUp}", "scope": "onMouseLeave", "scopeKind": "class", "description": "unavailable"}, {"name": "onMouseUp={handleMouseUp}", "scope": "onMouseUp", "scopeKind": "class", "description": "unavailable"}, {"name": "nodes,", "scope": "Canvas", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"36": ""}]}