{"is_source_file": true, "format": "JavaScript (React JSX)", "description": "This file defines a React functional component `Node` representing a draggable and connectable node in a flow chart editor. It includes state management for dragging, event handlers for movement and connection initiation, and visual customization based on node type.", "external_files": ["react", "react (submodules useState, useRef)"], "external_methods": ["React.useState", "React.useRef"], "published": ["Node"], "classes": [], "methods": [{"name": "Node", "description": "React functional component representing a flow chart node with draggable and connectable features."}], "calls": ["React.useState", "React.useRef", "Object.getBoundingClientRect", "String.match"], "search-terms": ["Node component", "flowchart node", "draggable React component", "connectable node", "Node shape types", "Node interaction handlers"], "state": 2, "file_id": 18, "knowledge_revision": 38, "git_revision": "", "ctags": [{"_type": "tag", "name": "Node", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Node.js", "pattern": "/^const Node = ({ $/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "backgroundColor", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Node.js", "pattern": "/^      backgroundColor: data.color || 'var(--primary-color)',$/", "language": "JavaScript", "kind": "property", "scope": "style", "scopeKind": "class"}, {"_type": "tag", "name": "borderColor", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Node.js", "pattern": "/^      borderColor: selected ? 'var(--accent-color)' : 'transparent',$/", "language": "JavaScript", "kind": "property", "scope": "style", "scopeKind": "class"}, {"_type": "tag", "name": "borderStyle", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Node.js", "pattern": "/^      borderStyle: 'solid'$/", "language": "JavaScript", "kind": "property", "scope": "style", "scopeKind": "class"}, {"_type": "tag", "name": "borderWidth", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Node.js", "pattern": "/^      borderWidth: selected ? '3px' : '1px',$/", "language": "JavaScript", "kind": "property", "scope": "style", "scopeKind": "class"}, {"_type": "tag", "name": "canvas", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Node.js", "pattern": "/^      const canvas = nodeRef.current.closest('.canvas');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "canvasRect", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Node.js", "pattern": "/^      const canvasRect = canvas.getBoundingClientRect();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "canvasTransform", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Node.js", "pattern": "/^      const canvasTransform = canvas.style.transform;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getNodeShape", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Node.js", "pattern": "/^  const getNodeShape = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleConnectionStart", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Node.js", "pattern": "/^  const handleConnectionStart = (e) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleMouseDown", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Node.js", "pattern": "/^      onMouseDown={handleMouseDown}$/", "language": "JavaScript", "kind": "field", "scope": "onMouseDown", "scopeKind": "class"}, {"_type": "tag", "name": "handleMouseDown", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Node.js", "pattern": "/^  const handleMouseDown = (e) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleMouseMove", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Node.js", "pattern": "/^      onMouseMove={handleMouseMove}$/", "language": "JavaScript", "kind": "field", "scope": "onMouseMove", "scopeKind": "class"}, {"_type": "tag", "name": "handleMouseMove", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Node.js", "pattern": "/^  const handleMouseMove = (e) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "handleMouseUp", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Node.js", "pattern": "/^      onMouseLeave={handleMouseUp}$/", "language": "JavaScript", "kind": "field", "scope": "onMouseLeave", "scopeKind": "class"}, {"_type": "tag", "name": "handleMouseUp", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Node.js", "pattern": "/^      onMouseUp={handleMouseUp}$/", "language": "JavaScript", "kind": "field", "scope": "onMouseUp", "scopeKind": "class"}, {"_type": "tag", "name": "handleMouseUp", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Node.js", "pattern": "/^  const handleMouseUp = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "node", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Node.js", "pattern": "/^  node, $/", "language": "JavaScript", "kind": "field", "scope": "Node", "scopeKind": "class"}, {"_type": "tag", "name": "nodeRef", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Node.js", "pattern": "/^      ref={nodeRef}$/", "language": "JavaScript", "kind": "field", "scope": "ref", "scopeKind": "class"}, {"_type": "tag", "name": "nodeRef", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Node.js", "pattern": "/^  const nodeRef = useRef(null);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "nodeStyle", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Node.js", "pattern": "/^  const nodeStyle = getNodeShape();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "offsetX", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Node.js", "pattern": "/^    const offsetX = e.clientX - rect.left;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "offsetY", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Node.js", "pattern": "/^    const offsetY = e.clientY - rect.top;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "rect", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Node.js", "pattern": "/^    const rect = nodeRef.current.getBoundingClientRect();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "scale", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Node.js", "pattern": "/^      const scale = transformMatch ? parseFloat(transformMatch[3]) : 1;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setDragOffset", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Node.js", "pattern": "/^  const [dragOffset, setDragOffset] = useState({ x: 0, y: 0 });$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "setIsDragging", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Node.js", "pattern": "/^  const [isDragging, setIsDragging] = useState(false);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "style", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Node.js", "pattern": "/^    const style = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "transformMatch", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Node.js", "pattern": "/^      const transformMatch = canvasTransform.match(\\/translate\\\\(([^,]+),\\\\s*([^)]+)\\\\).*scale\\\\/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "translateX", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Node.js", "pattern": "/^      const translateX = transformMatch ? parseFloat(transformMatch[1]) : 0;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "translateY", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Node.js", "pattern": "/^      const translateY = transformMatch ? parseFloat(transformMatch[2]) : 0;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "type} ${selected ? 'selected' : ''} ${isDragging ? 'dragging' : ''}", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Node.js", "pattern": "/^      className={`node ${node.type} ${selected ? 'selected' : ''} ${isDragging ? 'dragging' : ''/", "language": "JavaScript", "kind": "field", "scope": "className.node ${node", "scopeKind": "class"}, {"_type": "tag", "name": "x", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Node.js", "pattern": "/^      const x = (e.clientX - canvasRect.left - translateX - dragOffset.x) \\/ scale;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "y", "path": "/home/kavia/workspace/code-generation/flow-chart-builder-46286-46295/frontend_react_js/src/components/Node.js", "pattern": "/^      const y = (e.clientY - canvasRect.top - translateY - dragOffset.y) \\/ scale;$/", "language": "JavaScript", "kind": "constant"}], "hash": "452ef55ae7f6b14f6a2734cad309c7fc", "format-version": 4, "code-base-name": "frontend_react_js", "filename": "frontend_react_js/src/components/Node.js", "fields": [{"name": "backgroundColor: data.color || 'var(--primary-color)',", "scope": "style", "scopeKind": "class", "description": "unavailable"}, {"name": "borderColor: selected ? 'var(--accent-color)' : 'transparent',", "scope": "style", "scopeKind": "class", "description": "unavailable"}, {"name": "borderStyle: 'solid'", "scope": "style", "scopeKind": "class", "description": "unavailable"}, {"name": "borderWidth: selected ? '3px' : '1px',", "scope": "style", "scopeKind": "class", "description": "unavailable"}, {"name": "onMouseDown={handleMouseDown}", "scope": "onMouseDown", "scopeKind": "class", "description": "unavailable"}, {"name": "onMouseMove={handleMouseMove}", "scope": "onMouseMove", "scopeKind": "class", "description": "unavailable"}, {"name": "onMouseLeave={handleMouseUp}", "scope": "onMouseLeave", "scopeKind": "class", "description": "unavailable"}, {"name": "onMouseUp={handleMouseUp}", "scope": "onMouseUp", "scopeKind": "class", "description": "unavailable"}, {"name": "node,", "scope": "Node", "scopeKind": "class", "description": "unavailable"}, {"name": "ref={nodeRef}", "scope": "ref", "scopeKind": "class", "description": "unavailable"}, {"name": "className={`node ${node.type} ${selected ? 'selected' : ''} ${isDragging ? 'dragging' : ''/", "scope": "className.node ${node", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"38": ""}]}